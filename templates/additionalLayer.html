<div class="ui-widget addLayer" id="addLayer_<%= shortName %>">

	<span id="visible_<%= shortName %>"
          class="<% if (layer.isVisible()) print('ui-state-active'); else print('ui-state-default'); %> ui-corner-all ui-button">
		<span class="ui-icon <% if (layer.isVisible()) print('ui-icon-check'); else print('ui-icon-empty'); %>"></span>
	</span>

    <canvas width="20" height="10" class="legend"></canvas>

    <label title="<%= layer.description %>" for="addLayerInput_<%= shortName %>"><%= layer.name %></label>

    <span style="display: none;" class="spinner"></span>

    <div style="display: none;" class="layerTools" class="ui-widget-header ui-corner-all">
        <%
        if( layer.deletable )
        {
        %>

        <button class="deleteLayer">Delete</button>
        <%
        }
        %>


        <% if ( layer.type == "GeoJSON" )
        {
        %>

        <button class="zoomTo">zoomTo</button>
        <%
        }

        if ( layer.services )
        {
        %>
        <button class="layerServices">Available services</button>
        <%
        }
        if ( layer.type == "OpenSearch" ) 
        {
        %>
        <button class="exportLayer">Export visible tiles by SAMP</button>
        <a href="" download="">
            <button class="downloadAsVO">Download visible tiles as VOTable</button>
        </a>
        <%
        }
        %>

        <% if ( layer.type == "Hips" && layer.fitsSupported == true && !isMobile )
        {
        %>
        <input type="checkbox" class="isFits" id="isFits_<%= shortName %>"/><label
            for="isFits_<%= shortName %>">Fits</label>
        <input type="checkbox" class="addFitsView" id="addFitsView_<%= shortName %>" disabled="disabled"/><label
            for="addFitsView_<%= shortName %>"></label>
        <%
        }
        if ( layer.type == "OpenSearch" )
        {
        %>
        <div id="os_navigation_<%= shortName %>">
            &nbsp;&nbsp;&nbsp;<label class="labelPage_<%= layer.getShortName() %>">Page 1</label>&nbsp;&nbsp;&nbsp;<button class="osNext" onclick="document.currentOpenSearchLayer['<%= layer.getID() %>'].nextPage();">Next</button><br/>
            &nbsp;&nbsp;&nbsp;<label class="labelLoaded_<%= layer.getShortName() %>">loaded : 0</label>&nbsp;&nbsp;&nbsp;<label class="labelTotal_<%= layer.getShortName() %>">total : ~ 0</label>
        </div>
        <div class="QLWMS_<%= shortName %>" style="display:none">
            <button class="removeWMS">Remove quicklook WMS layers</button>
        </div>
        <%
        }
        %>

        <div id="opacity_<%= shortName %>">
            <div>
                <label for="percentInput_<%= shortName %>">Opacity: </label>
                <input class="percentInput" type="text" id="percentInput_<%= shortName %>"/>
            </div>
            <div class="slider" id="slider_<%= shortName %>"></div>
        </div>

        <!--<div id="seaLevel_<%= shortName %>">-->
            <!--<div>-->
                <!--<label for="seaLevelInput_<%= shortName %>">Sea level: </label>-->
                <!--<input class="percentInput" type="text" id="seaLevelInput_<%= shortName %>"/>-->
            <!--</div>-->
            <!--<div class="slider" id="seaLevelSlider_<%= shortName %>"></div>-->
        <!--</div>-->
        <div id="time_<%= shortName %>">
            <div>
                <label for="timeInput_<%= shortName %>">Time: </label>
                <input class="dateInput" type="text" id="timeInput_<%= shortName %>"/>
            </div>
            <div class="sliderTime" id="timeSlider_<%= shortName %>"></div>
        </div>
    </div>

</div>
